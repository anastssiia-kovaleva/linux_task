#!/bin/bash

INPUT_FILE="network.log"

if [ ! -f "$INPUT_FILE" ]; then
    echo "Ошибка: Исходный файл $INPUT_FILE не найден."
    exit 1
fi

echo "Начало поиска валидных IPv4 адресов..."
IP_PATTERN='(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)'
grep -E "$IP_PATTERN" "$INPUT_FILE" | grep -v '999\.999\.999\.999' | grep -v '192\.168\.1\.256'

echo "Поиск завершен."
