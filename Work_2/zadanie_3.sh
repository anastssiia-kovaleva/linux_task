#!/bin/bash

# Проверяем, был ли передан аргумент
if [ -z "$1" ]; then
    echo "Ошибка: Не указан файл или директория."
    echo "Использование: $0 <путь_к_файлу_или_директории>"
    exit 1
fi
FILE_PATH="$1"

# 1. Проверяем, существует ли файл/директория
if [ ! -e "$FILE_PATH" ]; then
    echo "Ошибка: Файл или директория '$FILE_PATH' не существует."
    exit 1
fi

# 2. Проверяем, является ли он директорией
if [ -d "$FILE_PATH" ]; then
    echo "Обнаружена директория: $FILE_PATH"
    echo "Список файлов в директории:"
    ls -l "$FILE_PATH"
    
# 3. Если не директория, то это файл
elif [ -f "$FILE_PATH" ]; then
    echo "Обнаружен файл: $FILE_PATH"
    
    # Подробная информация о файле
    echo "--- Подробная информация (ls -l): ---"
    ls -l "$FILE_PATH"
    
    # Число строк в файле
    LINE_COUNT=$(wc -l < "$FILE_PATH")
    echo "--- Число строк: ---"
    echo "$LINE_COUNT"
    
# 4. Обработка других типов
else
    echo "Обнаружен специальный объект: $FILE_PATH"
    echo "--- Подробная информация (ls -l): ---"
    ls -l "$FILE_PATH"
fi
exit 0
